<div ng-repeat="var in variables">
  <div class="gf-form offset-width-7" ng-if="$index === 0">
    <label class="gf-form-label width-10">Variables</label>
    <input
      class="gf-form-input max-width-12"
      ng-blur="onChangeInternal()"
      ng-model="var.name"
      placeholder="Variable name"
      spellcheck="false"
      type="text"
    />
    <metric-segment-model
      css-class="width-12"
      custom="false"
      on-change="onChangeInternal()"
      options="options"
      property="var.pipelineAgg"
    ></metric-segment-model>
    <label class="gf-form-label">
      <a class="pointer" ng-click="remove($index)">
        <icon name="'minus'"></icon>
      </a>
    </label>
    <label class="gf-form-label">
      <a class="pointer" ng-click="add()">
        <icon name="'plus'"></icon>
      </a>
    </label>
  </div>
  <div class="gf-form offset-width-17" ng-if="$index !== 0">
    <input
      class="gf-form-input max-width-12"
      ng-blur="onChangeInternal()"
      ng-model="var.name"
      placeholder="Variable name"
      spellcheck="false"
      type="text"
    />
    <metric-segment-model
      css-class="width-12"
      custom="false"
      on-change="onChangeInternal()"
      options="options"
      property="var.pipelineAgg"
    ></metric-segment-model>
    <label class="gf-form-label">
      <a class="pointer" ng-click="remove($index)">
        <icon name="'minus'"></icon>
      </a>
    </label>
  </div>
</div>
